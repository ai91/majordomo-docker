# Быстрый старт
[Быстрая установка с нуля](firststart.md)

[Техническое описание и расширеные примеры](advanced.md)

[Миграция существующей системы](migration.md)

# Описание
Данный образ базируется на официальных php:xxx-apache и поддерживает следующие архитектуры: `386`, `amd64`, `arm/v5`, `arm/v7`, `arm64`, `s390x`, `ppc64le`, `mips64le`.

На данный момент предоставляются сборки с php7 и php8.

Для работы необходимо иметь установленый [docker](https://docs.docker.com/engine/)/[docker compose](https://docs.docker.com/compose/install/).

Образ `majordomo-docker` содержит только виртуальную машину php, веб-сервер apache и ядро [MajorDoMo](https://github.com/sergejey/majordomo). 
Чего нету в образе: mysql базы данных, всевозможных дополнительных плагинов для работы с различными протоколами интернета вещей. Это значит что mysql, mosquitto, и прочие сетевые ресурсы должны быть доступны либо в локальной сети, либо на хост-машине, либо в соседних докер-контейнерах. Все примеры приведены с использованием докер-контейнеров.

Т.к. `majordomo-docker` содержит в себе и ядро `MajorDoMo` последней версии (на момент билда), то процесс обновления MajorDoMo возможнен двумя способами:
- обновление тега докер-образа (использовать либо `:latest`-тег, либо тег с конкретной версией)
- обновление средствами MajorDoMo через панель управления. При этом способе, чтобы версия MajorDoMo не откатывалась при перезапуске контейнера, надо добавить дополнительные параметры в переменные окружения. Подробнее см. в [расширеных примерах](advanced.md).

Список имеющихся тегов можно посмотреть на [докер-хабе](https://hub.docker.com/r/ai91/majordomo-docker/tags).
- Стабильные версии:
  - `:latest` - последняя master-версия, базируется на `php:7.4.25-apache`
  - `:latest_php8` - последняя master-версия, базируется на `php:8.3.9-apache`
  - `:latest_php7` - последняя master-версия, базируется на `php:7.4.25-apache`
  - `:master_XXXXXX_php8` - master-версии XXXXXX, базируются на `php:8.3.9-apache`
  - `:master_XXXXXX_php7` - master-версии XXXXXX, базируются на `php:7.4.25-apache`
- Альфа версии:
  - `:alpha` - последняя alpha-версия, базируется на `php:7.4.25-apache`
  - `:alpha_php8` - последняя alpha-версия, базируется на `php:8.3.9-apache`
  - `:alpha_php7` - последняя alpha-версия, базируется на `php:7.4.25-apache`
  - `:alpha_XXXXXX_php8` - alpha-версии XXXXXX, базируются на `php:8.3.9-apache`
  - `:alpha_XXXXXX_php7` - alpha-версии XXXXXX, базируются на `php:7.4.25-apache`
